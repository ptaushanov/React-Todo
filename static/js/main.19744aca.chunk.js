(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[0],{22:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(16),r=c.n(a),i=(c(22),c(8)),j=c(2),o=c(7),l=c(0),d=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(o.a)(a,2),i=r[0],d=r[1],b=Object(n.useState)(""),u=Object(o.a)(b,2),h=u[0],O=u[1],x=Object(n.useState)(!1),p=Object(o.a)(x,2),f=p[0],m=p[1],v=Object(n.useState)(null),g=Object(o.a)(v,2),N=g[0],k=g[1],S=Object(j.f)();return Object(l.jsxs)("div",{className:"create-task",children:[Object(l.jsx)("h2",{children:"Create task"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!0),fetch("http://localhost:8000/todos",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({title:c,description:i,importance:h})}).then((function(){m(!1),k(null),S.push("/")})).catch((function(e){m(!1),k(e)}))},children:[Object(l.jsx)("label",{children:"Title: "}),Object(l.jsx)("input",{type:"text",value:c,onChange:function(e){return s(e.target.value)}}),Object(l.jsx)("label",{children:"Description: "}),Object(l.jsx)("textarea",{type:"text",value:i,onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("label",{children:"Importance: "}),Object(l.jsx)("input",{type:"text",value:h,onChange:function(e){return O(e.target.value)}}),N&&Object(l.jsx)("p",{className:"event",children:N.message}),!f&&Object(l.jsx)("button",{children:"Add task"}),f&&Object(l.jsx)("button",{disabled:!0,children:"Pending ..."})]})]})},b=function(e){var t=e.todos;return Object(l.jsx)("div",{className:"todo-list",children:t.map((function(e){return Object(l.jsx)("div",{className:"todo-element",children:Object(l.jsxs)(i.b,{to:"/details/"+e.id,children:[Object(l.jsxs)("h2",{children:["Task: ",e.title]}),Object(l.jsxs)("p",{children:["Importance: ",e.importance]})]})},e.id)}))})},u=function(e){var t=Object(n.useState)(null),c=Object(o.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),j=i[0],l=i[1],d=Object(n.useState)(null),b=Object(o.a)(d,2),u=b[0],h=b[1];return Object(n.useEffect)((function(){var t=new AbortController;return l(!0),setTimeout((function(){fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("Can't find data for that resource");return e.json()})).then((function(e){h(null),a(e),l(!1)})).catch((function(e){"AbortError"!==e.name&&(l(!1),h(e))}))}),100),function(){t.abort()}}),[e]),{data:s,isLoading:j,error:u}},h=function(){var e=u("http://localhost:8000/todos"),t=e.data,c=e.isLoading,n=e.error;return Object(l.jsxs)("div",{className:"home",children:[c&&Object(l.jsx)("p",{className:"event",children:"Loading TODO's ..."}),n&&Object(l.jsxs)("p",{className:"event",children:[" ",n.message," "]}),t&&Object(l.jsx)(b,{todos:t})]})},O=function(){return Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsx)(i.b,{to:"/",children:"TODOs"}),Object(l.jsx)(i.b,{to:"/create",children:"Create task"})]})},x=function(){var e=Object(j.g)().id,t=u("http://localhost:8000/todos/"+e),c=t.data,n=t.isLoading,s=t.error,a=Object(j.f)();return Object(l.jsxs)("div",{className:"task-details",children:[n&&Object(l.jsx)("p",{className:"event",children:" Loading task details ..."}),s&&Object(l.jsx)("p",{className:"event",children:s.message}),c&&Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("h2",{children:c.title}),c.description.split("\n").map((function(e){return Object(l.jsx)("p",{children:e})})),Object(l.jsx)("button",{onClick:function(){fetch("http://localhost:8000/todos/"+e,{method:"DELETE"}).then((function(){a.push("/")})).catch((function(e){console.error(e)}))},children:"Delete task"})]})]})};var p=function(){return Object(l.jsx)(i.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(O,{}),Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:"/",children:Object(l.jsx)(h,{})}),Object(l.jsx)(j.a,{path:"/create",children:Object(l.jsx)(d,{})}),Object(l.jsx)(j.a,{path:"/details/:id",children:Object(l.jsx)(x,{})})]})})]})})};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.19744aca.chunk.js.map